<ng-template #loading>
  <div class="spinner-container">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>

<div class="container" *ngIf="!isLoading; else loading">
  <div class="grid">
    <mat-card class="card" *ngFor="let product of products">
      <mat-card-header class="centering">
        <mat-card-title>
          {{product.name}}
        </mat-card-title>
        <mat-card-subtitle>
          {{product.id}}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <small>{{product.createdAt}}</small>
        <p>
          {{product.description}} :: {{product.category?.name}}
        </p>
      </mat-card-content>
      <mat-card-actions class="between">
        <button mat-fab color="primary" [routerLink]="['/products/edit/' + product.id]">
          <mat-icon>border_color</mat-icon>
        </button>
        <button mat-fab color="warn" (click)="onDeleteProduct(product.id)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
